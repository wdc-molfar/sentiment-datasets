# Репозиторій **"sentiment-datasets"** | Вступ

**Репозиторій `sentiment-datasets` - "Репозиторій, що містить тренувальний та тестовий набори українських, російських та англійських текстових інформаційних повідомлень позитивної та негативної тональності"**, які необхідні для навчання та, відповідно, тестування української, російської та англійської моделей сентимент-аналізу та розпізнавання емоційного забарвлення текстів за допомогою засобів [fastText](https://github.com/facebookresearch/fastText) бібліотеки мови програмування `Pythion`.

Якість натренованих моделей, яка виражена через точність та повноту розпізнавання, багато в чому залежить від низки факторів, серед яких є і спосіб формування тренувального корпусу текстів. Ручне формування тренувального набору даних є доволі трудомісткою та вартісною процедурою, яку складно виконати для текстів, віднесених до специфічної тематики.

В зв’язку з цим пропонується комбінований підхід, що полягає у використанні простих методів сентимент-аналізу для швидкого формування тренувального набору даних з високою точністю розпізнавання, який в подальшому використовується для тренування моделей машинного навчання. 

Для формування вхідного потоку використовуються великі масиви даних, отриманих за допомогою системи моніторингу новинних повідомлень – [InfoStream](http://infostream.ua/) Інформаійного центру "Електронні вісті". Загалом обсяг таких даних сягає декількох сотень мільйонів документів, які попередньо марковані не лише за мовними ознаками (`українська`, `російська` чи `англійська`), а також – за тональністю (`Good` чи `Bad`) на базі [словникового байєсівського алгоритму](https://doi.org/10.48550/arXiv.0806.2738) з невисокою розподільною здатністю, завдяки якому забезпечується висока швидкость і висока повнота розпізнавання, частково за рахунок зменшення точності. 

Для формування бази даних для машинного навчання автоматично було обирано ті документи, що мають крайні вагові значення емоційних оцінок, обчислених за допомогою байєсівського алгоритму. Тим самим зменшується повнота, але забезпечується найбільша допустима точність, яку може надати байєсівський алгоритм. 

В результаті автоматичного оброблення новинних повідомлень були сформовані шість масивів даних: 130 тис. українських повідомлень позитивної та 1300 тис. негативної тональності, 1300 тис. російських повідомлень позитивної та 1300 тис. негативної тональності, 150 тис. повідомлень позитивної та 150 тис. повідомлень негативної тональності. 

Ці масиви застосовуються як база для подальшого навчання. Також для оцінки якості навчання моделей окремо були сформовані [тестові масиви даних](https://github.com/wdc-molfar/sentiment-datasets/tree/main/test) об’ємом, що не перевищував 10% від об’єму начальної вибірки. 

### Зміст
- [Позначення та найменування репозиторія](#name)
- [Програмне забезпечення, що супроводжує репозиторій](#software)
- [Функціональне призначення](#function)
- [Опис логічної структури](#structure)
- [Використовувані технічні засоби](#hardware)
- [Виклик та завантаження](#run)
- [Вхідні дані](#inputdata)
- [Вихідні дані](#outputdata)

<a name="name"></a>
<h2>Позначення та найменування репозиторія</h2>

Репозиторій має позначення **`sentiment-datasets`**.

Повне найменування репозиторія – **"Репозиторій, що містить тренувальний та тестовий набори українських, російських та англійських текстових інформаційних повідомлень позитивної та негативної тональності."**.

<a name="software"></a>
<h2>Програмне забезпечення, необхідне для функціонування програмного модуля</h2>

Для функціонування програмного модуля **`sentiment-analyser`**, написаного мовою програмування `Python`, необхідне наступне програмне забезпечення:

- операційна система сімейства `Windows OS` або `Unix`-подібна
- `python` [v3.6.0](https://www.python.org/downloads/release/python-360/) or newer

```sh
python --version Python 3.6.0
```

пакети:
- `zipfile` [v3.2](https://docs.python.org/3/library/zipfile.html)

```sh
pip install zipfile==3.2
```

<a name="function"></a>
<h2>Функціональне призначення</h2>

Програмний модуль **`sentiment-analyser`** містить тренувальний та тестовий набори українських, російських та англійських текстових інформаційних повідомлень позитивної та негативної тональності, які необхідні для навчання та, відповідно, тестування української, російської та англійської моделей сентимент-аналізу та розпізнавання емоційного забарвлення текстів за допомогою засобів [fastText](https://github.com/facebookresearch/fastText) бібліотеки мови програмування `Pythion`.

<a name="structure"></a>
<h2>Опис логічної структури</h2>

Репозиторій **`sentiment-analyser`** складається з частин:
- `train` - директорії з тренувальним набором даних, що містить `zip`-архіви тренувальних збалансованих вибірок:
	- [uk.txt.zip](https://github.com/wdc-molfar/sentiment-datasets/tree/main/train), що складається сумарно із 26000 рядків позитивних та негативних українських інформаційних повідомлень розмічених відповідними мітками `__label__pos` чи `__label__neg` в кінці кожного рядка (загальний обсяг розпакованого файлу - 1,49 ГБ)
	- [ru.txt.zip](https://github.com/wdc-molfar/sentiment-datasets/tree/main/train), що складається сумарно із 26000 рядків позитивних та негативних російських інформаційних повідомлень розмічених відповідними мітками `__label__pos` чи `__label__neg` в кінці кожного рядка (загальний обсяг розпакованого файлу - 1,44 ГБ)
	- [en.txt.zip](https://github.com/wdc-molfar/sentiment-datasets/tree/main/train), що складається сумарно із 30000 рядків позитивних та негативних англійських інформаційних повідомлень розмічених відповідними мітками `__label__pos` чи `__label__neg` в кінці кожного рядка (загальний обсяг розпакованого файлу - 895 МБ)
- `test` - директорії з тестовим набором данихщо містить `zip`-архіви тестових збалансованих вибірок:
	- [uk.txt.zip](https://github.com/wdc-molfar/sentiment-datasets/tree/main/test), що складається сумарно із 26000 рядків позитивних та негативних українських інформаційних повідомлень розмічених відповідними мітками `__label__pos` чи `__label__neg` в кінці кожного рядка (загальний обсяг розпакованого файлу - 162,3 МБ)
	- [ru.txt.zip](https://github.com/wdc-molfar/sentiment-datasets/tree/main/test), що складається сумарно із 26000 рядків позитивних та негативних російських інформаційних повідомлень розмічених відповідними мітками `__label__pos` чи `__label__neg` в кінці кожного рядка (загальний обсяг розпакованого файлу - 186,5 МБ)
	- [en.txt.zip](https://github.com/wdc-molfar/sentiment-datasets/tree/main/test), що складається сумарно із 30000 рядків позитивних та негативних англійських інформаційних повідомлень розмічених відповідними мітками `__label__pos` чи `__label__neg` в кінці кожного рядка (загальний обсяг розпакованого файлу - 141,9 МБ)
- `unpack.py` — головного скрипта, що викликає наступну функцію:
	- `unzip()` — підмодуль, що відповідає за перевірку та завантаження необхідних програмних бібліотек, модулів та підмодулів, і складається з наступних функцій:
		
Під час виконання головного скрипта `unpack.py` для розпакування `zip`-архівів репозиторія **`sentiment-datasets`**, повідомлення про помилки та інші інформаційні сповіщення про результати роботи скрипта виводяться у `output.log`.

<a name="run"></a>
<h2>Виклик та завантаження</h2>

Для серверів, які працюють під керівництвом операційних систем сімейства `Windows OS`, розпакування `zip`-архівів тренувальних та тестових текстових `.txt`-файлів здійснюється шляхом запуску скрипта `unpack.py` з використанням команди `python`. Потрібно відкрити командний рядок – термінал `shell` та написати `unpack.py` з необхідними параметрами. Важливо, щоб скрипт знаходився або в директорії, з якої запущено командний рядок, або в каталозі, прописаному у змінній середовища `PATH`. 
Тож розпакування `zip`-архівів забезпечується введенням в командному рядку повного імені скрипта з додатковими параметрами - назва директорії з тренувальним чи тестовим набором `<setName>`, який необхідно розпакувати, та мова відповідного набору інформаційних повідомлень `<lang>`:

```sh
python unpack.py <setName> <lang>
```
Операція може використовуватися як в операційній системі `Windows OS`, так і в `Unix`-подібних системах.

Для серверів, які працюють під керівництвом `Unix`-подібних операційних систем (наприклад, `Linux`) на початку скрипта `Python` у першому рядку має бути вказаний повний шлях до інтерпретатора:
``` python
#!/usr/bin/python3
```
або
``` python
#!/usr/bin/env python3
```
В результаті запуску скрипта `unpack.py` репозиторія **`sentiment-datasets`**  здійснюється розпакування вказаного `zip`-архіва.

За замовчуванням, розпакований `txt`-файл, отриманий в результаті запуску скрипта, зберігається у тій же директорії, що й файл з відповідним `zip`-архівом.

<a name="inputdata"></a>
<h2>Вхідні дані</h2>

Формат вхідних даних: текстовий/рядковий - `string`.

Вхідні текстові дані - параметри, які задаються на вхід скрипту `unpack.py` - назва директорії з відповідним тренувальним чи тестовим набором необхідним для розпакування та його мова, мають наступний вигляд:
```txt
train uk
```

<a name="inputdata"></a>
<h2>Вихідні дані</h2>

Формат вихідних даних: текстовий файл формату `txt`, збережений у директорії `train` - `train/uk.txt`.

## Copyright
Copyright © 2022 [WDC-MOLFAR](https://github.com/wdc-molfar)

